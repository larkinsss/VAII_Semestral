<!DOCTYPE html>
<html lang="sk">
  <head>
    <meta charset="utf-8"/>
    <title>A document with a short head</title>
  </head>
  
<mat-expansion-panel>

    <mat-expansion-panel-header>

      <mat-panel-title class="exp_header">
        <mat-icon class="logo" [ngbTooltip]="" [ngStyle]="{'color':'gray', 'padding-left':'5px', 'padding-right':'5px', 'font-size':'18px'}" *ngIf="this.data.pnForm.status == 0" placement="bottom">lens</mat-icon>
        <mat-icon class="logo" [ngbTooltip]="" [ngStyle]="{'color':'red', 'padding-left':'5px', 'padding-right':'5px',  'font-size':'18px'}" *ngIf="this.data.pnForm.status == 1" placement="bottom">lens</mat-icon>
        <mat-icon class="logo" [ngbTooltip]="" [ngStyle]="{'color':'lime', 'padding-left':'5px', 'padding-right':'5px', 'font-size':'18px'}" *ngIf="this.data.pnForm.status == 2" placement="bottom">lens</mat-icon>
        <mat-label class="label"> {{ data.patient.firstname }} {{ data.patient.lastname }} </mat-label>
      </mat-panel-title>

      <mat-panel-description>
        {{ data.pnForm.beginningDate | date:'dd-MM-yyyy' }}
      </mat-panel-description>

    </mat-expansion-panel-header>

    <div class="row">

      <mat-form-field  appearance="outline">
        <mat-label>Rodné číslo</mat-label>
        <input matInput [value]="data.patient.id" readonly/>
      </mat-form-field>

      <mat-form-field  appearance="outline">
        <mat-label>Adresa pobytu počas práceneshopnosti</mat-label>
        <input matInput [value]="getTempAddress()" readonly/>
      </mat-form-field>

    </div>

    <div class="row">

      <mat-form-field  appearance="outline">
        <mat-label>Zdravotná poisťovňa</mat-label>
        <input matInput [value]="getInsuranceComp()" readonly/>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Dátum začiatku práceneschopnosti</mat-label>
        <input
          matInput 
          [ngModel] ="data.pnForm.beginningDate | date:'dd-MM-yyyy'"
          readonly
        />
      </mat-form-field> 

      
    </div>


    <div class="row">

      <mat-form-field  appearance="outline">
        <mat-label>Kategoria diagnozy</mat-label>
        <input matInput [value]="mapDiagnose(this.data.pnForm.diagnoseCategory)" readonly/>
      </mat-form-field>

      <mat-form-field  appearance="outline">
        <mat-label>Kód diagnózy - Štát. značka</mat-label>
        <input matInput [value]="this.data.pnForm.diagnoseNumber" readonly/>
      </mat-form-field>
    </div>

    <mat-action-row *ngIf='showToSocWork()'>
      <button id="chng_proc_{{data.pnForm.id}}" mat-raised-button color="warn" (click)="onUpdate(2)">Evidovať</button>
      <button id="rem_proc_{{data.pnForm.id}}" mat-raised-button color="warn" (click)="onUpdate(1)">Zamietnuť</button>      
    </mat-action-row>

    <mat-action-row *ngIf='showToUser()'>
      <button mat-raised-button color="warn" (click)="onPrint(this.data.pnForm)">Vytlačiť PDF</button>     
    </mat-action-row>


  </mat-expansion-panel>
  